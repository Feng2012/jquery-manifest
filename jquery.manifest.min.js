/*!
 * jQuery UI Widget 1.8.21
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(c,h){if(c.cleanData){var i=c.cleanData;c.cleanData=function(a){for(var b=0,d;null!=(d=a[b]);b++)try{c(d).triggerHandler("remove")}catch(e){}i(a)}}else{var j=c.fn.remove;c.fn.remove=function(a,b){return this.each(function(){b||(!a||c.filter(a,[this]).length)&&c("*",this).add([this]).each(function(){try{c(this).triggerHandler("remove")}catch(a){}});return j.call(c(this),a,b)})}}c.widget=function(a,b,d){var e=a.split(".")[0],f,a=a.split(".")[1];f=e+"-"+a;d||(d=b,b=c.Widget);c.expr[":"][f]=
function(b){return!!c.data(b,a)};c[e]=c[e]||{};c[e][a]=function(a,b){arguments.length&&this._createWidget(a,b)};b=new b;b.options=c.extend(!0,{},b.options);c[e][a].prototype=c.extend(!0,b,{namespace:e,widgetName:a,widgetEventPrefix:c[e][a].prototype.widgetEventPrefix||a,widgetBaseClass:f},d);c.widget.bridge(a,c[e][a])};c.widget.bridge=function(a,b){c.fn[a]=function(d){var e="string"===typeof d,f=Array.prototype.slice.call(arguments,1),g=this,d=!e&&f.length?c.extend.apply(null,[!0,d].concat(f)):d;
if(e&&"_"===d.charAt(0))return g;e?this.each(function(){var b=c.data(this,a),e=b&&c.isFunction(b[d])?b[d].apply(b,f):b;if(e!==b&&e!==h)return g=e,!1}):this.each(function(){var e=c.data(this,a);e?e.option(d||{})._init():c.data(this,a,new b(d,this))});return g}};c.Widget=function(a,b){arguments.length&&this._createWidget(a,b)};c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(a,b){c.data(b,this.widgetName,this);this.element=c(b);this.options=c.extend(!0,
{},this.options,this._getCreateOptions(),a);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return c.metadata&&c.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+
"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(a,b){var d=a;if(0===arguments.length)return c.extend({},this.options);if("string"===typeof a){if(b===h)return this.options[a];d={};d[a]=b}this._setOptions(d);return this},_setOptions:function(a){var b=this;c.each(a,function(a,c){b._setOption(a,c)});return this},_setOption:function(a,b){this.options[a]=b;"disabled"===a&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",
b);return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(a,b,d){var e,f=this.options[a],d=d||{},b=c.Event(b);b.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();b.target=this.element[0];if(a=b.originalEvent)for(e in a)e in b||(b[e]=a[e]);this.element.trigger(b,d);return!(c.isFunction(f)&&!1===f.call(this.element[0],b,d)||b.isDefaultPrevented())}}})(jQuery);

/**
 * Marco Polo v1.6.0
 *
 * A jQuery autocomplete plugin for the discerning developer.
 *
 * https://github.com/jstayton/jquery-marcopolo
 *
 * Copyright 2011-2012 by Justin Stayton
 * Released under the MIT License
 * http://en.wikipedia.org/wiki/MIT_License
 */
(function(f){"function"===typeof define&&define.amd?define(["jquery"],f):f(jQuery)})(function(f,k){var m={};f.widget("mp.marcoPolo",{options:{cache:!0,compare:!1,data:{},delay:250,formatData:null,formatError:function(){return"<em>Your search could not be completed at this time.</em>"},formatItem:function(a){return a.title||a.name},formatMinChars:function(a){return"<em>Your search must be at least <strong>"+a+"</strong> characters.</em>"},formatNoResults:function(a){return"<em>No results for <strong>"+
a+"</strong>.</em>"},hideOnSelect:!0,label:null,minChars:1,onBlur:null,onChange:null,onError:null,onFocus:null,onMinChars:null,onNoResults:null,onRequestBefore:null,onRequestAfter:null,onResults:null,onSelect:function(a){this.val(a.title||a.name)},param:"q",required:!1,selectable:"*",selected:null,url:null},keys:{DOWN:40,END:35,ENTER:13,ESC:27,HOME:36,UP:38},_create:function(){var a;this.$input=a=this.element.addClass("mp_input");this.inputName="mp_"+(a.attr("name")||f.now());this.$list=f('<ol class="mp_list" />').attr({"aria-atomic":"true",
"aria-busy":"false","aria-live":"polite",id:this.inputName+"_list",role:"listbox"}).hide().insertAfter(this.$input);this.inputOriginals={"aria-activedescendant":a.attr("aria-activedescendant"),"aria-autocomplete":a.attr("aria-autocomplete"),"aria-expanded":a.attr("aria-expanded"),"aria-labelledby":a.attr("aria-labelledby"),"aria-owns":a.attr("aria-owns"),"aria-required":a.attr("aria-required"),autocomplete:a.attr("autocomplete"),role:a.attr("role")};a.attr({"aria-autocomplete":"list","aria-owns":this.$list.attr("id"),
autocomplete:"off",role:"combobox"});this.ajax=null;this.ajaxAborted=!1;this.documentMouseup=null;this.mousedown=this.focusReal=this.focusPseudo=!1;this.selectedData=null;this.selectedMouseup=!1;this.timer=null;this.value=this.$input.val();this._bindInput()._bindList()._bindDocument();this._initOptions()._initSelected()},_setOption:function(a,b){f.Widget.prototype._setOption.apply(this,arguments);this._initOptions(a,b)},_initOptions:function(a,b){var c=this,e=a===k,d={};e?d=c.options:d[a]=b;f.each(d,
function(a,b){switch(a){case "label":c.options.label=f(b).addClass("mp_label");c.options.label.attr("id")?c.removeLabelId=!1:(c.removeLabelId=!0,c.options.label.attr("id",c.inputName+"_label"));c._toggleLabel();c.$input.attr("aria-labelledby",c.options.label.attr("id"));break;case "required":c.$input.attr("aria-required",b);break;case "selected":e&&b&&c.select(b,null);break;case "url":b||(c.options.url=c.$input.closest("form").attr("action"))}});return c},change:function(a,b){a!==this.value&&(this.$input.val(a),
this.selectedData=null,this.value=a,this._trigger("change",[a]),!0!==b&&(this.focusPseudo?this._cancelPendingRequest()._hideAndEmptyList():this._toggleLabel()))},search:function(a){var b=this.$input;a!==k&&b.val(a);b.focus()},select:function(a,b){var c=this.$input,e=this.options.hideOnSelect;this.selectedData=a;e&&this._hideList();a?this._trigger("select",[a,b]):c.val("");c.val()!==this.value&&(this.value=c.val(),this.focusPseudo||this._toggleLabel(),this._hideAndEmptyList())},_initSelected:function(){var a=
this.$input,b=a.data("selected"),a=a.val();b?this.select(b,null):a&&this.select(a,null);return this},selected:function(){return this.selectedData},destroy:function(){var a=this.options,b=this.$input;this.$list.remove();f.each(this.inputOriginals,function(a,e){e===k?b.removeAttr(a):b.attr(a,e)});b.removeClass("mp_input");a.label&&(a.label.removeClass("mp_label"),this.removeLabelId&&a.label.removeAttr("id"));f(document).unbind("mouseup.marcoPolo",this.documentMouseup);f.Widget.prototype.destroy.apply(this,
arguments)},list:function(){return this.$list},_bindInput:function(){var a=this,b=a.$input,c=a.$list;b.bind("focus.marcoPolo",function(){a.focusReal||(a.focusPseudo=!0,a.focusReal=!0,a._toggleLabel(),a.selectedMouseup?a.selectedMouseup=!1:(a._trigger("focus"),a._request(b.val())))}).bind("keydown.marcoPolo",function(b){var d=f();switch(b.which){case a.keys.UP:b.preventDefault();a._showList()._highlightPrev();break;case a.keys.DOWN:b.preventDefault();a._showList()._highlightNext();break;case a.keys.HOME:b.preventDefault();
a._showList()._highlightFirst();break;case a.keys.END:b.preventDefault();a._showList()._highlightLast();break;case a.keys.ENTER:b.preventDefault();if(!c.is(":visible"))break;d=a._highlighted();d.length&&a.select(d.data("marcoPolo"),d);break;case a.keys.ESC:a._cancelPendingRequest()._hideList()}}).bind("keyup.marcoPolo",function(){b.val()!==a.value&&a._request(b.val())}).bind("blur.marcoPolo",function(){a.focusReal=!1;setTimeout(function(){a.mousedown||a._dismiss()},1)});return a},_bindList:function(){var a=
this;a.$list.bind("mousedown.marcoPolo",function(){a.mousedown=!0}).delegate("li.mp_selectable","mouseover",function(){a._addHighlight(f(this))}).delegate("li.mp_selectable","mouseout",function(){a._removeHighlight(f(this))}).delegate("li.mp_selectable","mouseup",function(){var b=f(this);a.select(b.data("marcoPolo"),b);a.selectedMouseup=!0;a.$input.focus()});return a},_bindDocument:function(){var a=this;f(document).bind("mouseup.marcoPolo",a.documentMouseup=function(){a.mousedown=!1;!a.focusReal&&
a.$list.is(":visible")&&a._dismiss()});return a},_toggleLabel:function(){var a=this.options.label;a.length&&(this.focusPseudo||this.$input.val()?a.hide():a.show());return this},_firstSelectableItem:function(){return this.$list.children("li.mp_selectable:visible:first")},_lastSelectableItem:function(){return this.$list.children("li.mp_selectable:visible:last")},_highlighted:function(){return this.$list.children("li.mp_highlighted")},_removeHighlight:function(a){a.removeClass("mp_highlighted").attr("aria-selected",
"false").removeAttr("id");this.$input.removeAttr("aria-activedescendant");return this},_addHighlight:function(a){this._removeHighlight(this._highlighted());a.addClass("mp_highlighted").attr({"aria-selected":"true",id:this.inputName+"_highlighted"});this.$input.attr("aria-activedescendant",a.attr("id"));return this},_highlightFirst:function(){this._addHighlight(this._firstSelectableItem());return this},_highlightLast:function(){this._addHighlight(this._lastSelectableItem());return this},_highlightPrev:function(){var a=
this._highlighted().prevAll("li.mp_selectable:visible:first");a.length||(a=this._lastSelectableItem());this._addHighlight(a);return this},_highlightNext:function(){var a=this._highlighted().nextAll("li.mp_selectable:visible:first");a.length||(a=this._firstSelectableItem());this._addHighlight(a);return this},_showList:function(){this.$list.children().length&&(this.$list.show(),this.$input.attr("aria-expanded","true"));return this},_hideList:function(){this.$list.hide();this.$input.removeAttr("aria-activedescendant").removeAttr("aria-expanded");
return this},_emptyList:function(){this.$list.empty();this.$input.removeAttr("aria-activedescendant");return this},_hideAndEmptyList:function(){this.$list.hide().empty();this.$input.removeAttr("aria-activedescendant").removeAttr("aria-expanded");return this},_buildNoResultsList:function(a){var b=this.$input,c=this.$list,e=this.options,d=f('<li class="mp_no_results" role="alert" />');(b=e.formatNoResults&&e.formatNoResults.call(b,a,d))&&d.html(b);this._trigger("noResults",[a,d]);b?(d.appendTo(c),this._showList()):
this._hideList();return this},_buildResultsList:function(a,b){for(var c=this.$input,e=this.$list,d=this.options,i=this.selectedData,g=d.compare&&i,h,j,o=!1,l=f(),n=0,k=b.length;n<k;n++)if(h=b[n],l=f('<li class="mp_item" />'),j=d.formatItem.call(c,h,l),l.data("marcoPolo",h),l.html(j).appendTo(e),g&&(!0===d.compare?j=i:(h=h[d.compare],j=i[d.compare]),h===j))this._addHighlight(l),g=!1,o=!0;e.children(d.selectable).addClass("mp_selectable").attr({"aria-selected":"false",role:"option"});this._trigger("results",
[b]);this._showList();o||this._highlightFirst();return this},_buildSuccessList:function(a,b){var c=this.$input,e=this.options;this._emptyList();e.formatData&&(b=e.formatData.call(c,b));f.isEmptyObject(b)?this._buildNoResultsList(a):this._buildResultsList(a,b);return this},_buildErrorList:function(a,b,c){var e=this.$input,d=this.$list,i=this.options,g=f('<li class="mp_error" role="alert" />');this._emptyList();(e=i.formatError&&i.formatError.call(e,g,a,b,c))&&g.html(e);this._trigger("error",[g,a,b,
c]);e?(g.appendTo(d),this._showList()):this._hideList();return this},_buildMinCharsList:function(a){var b=this.$input,c=this.$list,e=this.options,d=f('<li class="mp_min_chars" role="alert" />');if(!a.length)return this._hideAndEmptyList(),this;this._emptyList();(a=e.formatMinChars&&e.formatMinChars.call(b,e.minChars,d))&&d.html(a);this._trigger("minChars",[e.minChars,d]);a?(d.appendTo(c),this._showList()):this._hideList();return this},_cancelPendingRequest:function(){this.ajax?(this.ajaxAborted=!0,
this.ajax.abort()):this.ajaxAborted=!1;clearTimeout(this.timer);return this},_request:function(a){var b=this,c=b.$input,e=b.$list,d=b.options;b._cancelPendingRequest();b.change(a,!0);b.timer=setTimeout(function(){var i={},g={},h,j=f();if(a.length<d.minChars)return b._buildMinCharsList(a),b;i[d.param]=a;g=f.extend({},d.data,i);h=d.url+(-1===d.url.indexOf("?")?"?":"&")+f.param(g);d.cache&&m[h]?b._buildSuccessList(a,m[h]):(b._trigger("requestBefore"),j=c.parent().addClass("mp_busy"),e.attr("aria-busy",
"true"),b.ajax=f.ajax({url:d.url,dataType:"json",data:g,success:function(c){b._buildSuccessList(a,c);d.cache&&(m[h]=c)},error:function(a,c,d){b.ajaxAborted||b._buildErrorList(a,c,d)},complete:function(a,c){b.ajax=null;b.ajaxAborted=!1;j.removeClass("mp_busy");e.attr("aria-busy","false");b._trigger("requestAfter",[a,c])}}))},d.delay);return b},_dismiss:function(){var a=this.options;this.focusPseudo=!1;this._cancelPendingRequest()._hideAndEmptyList();a.required&&!this.selectedData&&this.change("",!0);
this._toggleLabel()._trigger("blur");return this},_trigger:function(a,b){var c="on"+a.charAt(0).toUpperCase()+a.slice(1),e=this.widgetEventPrefix.toLowerCase()+a.toLowerCase(),d=f.isArray(b)?b:[],c=this.options[c];this.element.trigger(e,d);return c&&c.apply(this.element,d)}})});

/**
 * Manifest v1.3.0
 *
 * A jQuery plugin that adds delight to selecting multiple values for an input.
 *
 * https://github.com/jstayton/jquery-manifest
 *
 * Copyright 2011-2012 by Justin Stayton
 * Released under the MIT License
 * http://en.wikipedia.org/wiki/MIT_License
 */
(function(d){"function"===typeof define&&define.amd?define(["jquery"],d):d(jQuery)})(function(d,m){d.widget("mf.manifest",{options:{formatDisplay:function(a,b,c){return c?c.html():a},formatRemove:function(){return"X"},formatValue:function(a,b,c,d){return d?d.text():a},marcoPolo:!1,onAdd:null,onChange:null,onHighlight:null,onHighlightRemove:null,onRemove:null,onSelect:null,onSelectRemove:null,required:!1,separator:",",values:null,valuesName:null},_marcoPoloOptions:function(){var a=this,b=a.options;
return{onFocus:function(){b.marcoPolo.onFocus&&b.marcoPolo.onFocus.call(this);a._resizeInput()},onRequestAfter:function(){a.$container.parent().removeClass("mf_busy");b.marcoPolo.onRequestAfter&&b.marcoPolo.onRequestAfter.call(this)},onRequestBefore:function(){a.$container.parent().addClass("mf_busy");b.marcoPolo.onRequestBefore&&b.marcoPolo.onRequestBefore.call(this)},onSelect:function(c,d){b.marcoPolo.onSelect&&b.marcoPolo.onSelect.call(this,c,d);a.add(c,d,!0,!0)},required:b.required}},keys:{BACKSPACE:8,
DELETE:46,DOWN:40,END:35,ENTER:13,HOME:36,LEFT:37,RIGHT:39,UP:38},_create:function(){var a=this.options,b,c;this.$input=c=this.element.addClass("mf_input");this.inputName="mf_"+(c.attr("name")||d.now());this.$container=d('<div class="mf_container" />');this.$list=d('<ol class="mf_list" />').attr({"aria-atomic":"false","aria-live":"polite","aria-multiselectable":"true",id:this.inputName+"_list",role:"listbox"});this.$measure=d('<span class="mf_measure" />');this.mpMousedown=this.mousedown=!1;this.inputOriginals=
{"aria-owns":c.attr("aria-owns"),role:c.attr("role"),width:c.css("width")};a.marcoPolo?(b=c.val(),c.val(""),this._bindMarcoPolo(),c.attr("aria-owns",c.attr("aria-owns")+" "+this.$list.attr("id")),c.val(b)):c.attr({"aria-owns":this.$list.attr("id"),role:"combobox"});this._bindInput()._bindList()._bindContainer()._bindDocument();c.wrap(this.$container).before(this.$list).after(this.$measure);this.$container=c.parent();a.values&&this.add(a.values,null,!1,!1);this._addInputValues()._styleMeasure()._resizeInput()},
_setOption:function(a,b){var c=this.$input;switch(a){case "marcoPolo":this.options.marcoPolo?b?c.marcoPolo("option",d.extend({},b,this._marcoPoloOptions())):c.marcoPolo("destroy"):b&&(this._bindMarcoPolo(d.extend({},b,this._marcoPoloOptions())),c.marcoPolo("list").insertAfter(c.parent()));break;case "required":this.options.marcoPolo&&c.marcoPolo("option","required",b);break;case "values":this.add(b,null,!1,!0);break;case "valuesName":this.$list.find("input:hidden.mf_value").attr("name",b+"[]")}d.Widget.prototype._setOption.apply(this,
arguments)},_bindMarcoPolo:function(a){var b=this,c=b.$input,h=b.options;a===m&&(a=d.extend({},h.marcoPolo,b._marcoPoloOptions()));c.marcoPolo(a);c.marcoPolo("list").bind("mousedown.manifest",function(){b.mpMousedown=!0});return b},_bindInput:function(){var a=this,b=a.$input,c=a.options,h=c.marcoPolo&&0===c.marcoPolo.minChars,g=[a.keys.UP,a.keys.DOWN,a.keys.HOME,a.keys.END];b.bind("keydown.manifest",function(c){a._resizeInput();c.which===a.keys.ENTER&&c.preventDefault();if(!b.val()&&!(h&&-1!==d.inArray(c.which,
g)))switch(c.which){case a.keys.BACKSPACE:case a.keys.DELETE:c=a._selected();c.length?a.remove(c):a._selectPrev();break;case a.keys.LEFT:case a.keys.UP:a._selectPrev();break;case a.keys.RIGHT:case a.keys.DOWN:a._selectNext();break;case a.keys.HOME:a._selectFirst();break;case a.keys.END:a._selectLast();break;default:a._removeSelected()}}).bind("keypress.manifest",function(d){!c.required&&a._isSeparator(d.which)&&(d.preventDefault(),b.val()&&a.add(b.val(),null,!0,!0))}).bind("keyup.manifest",function(){a._resizeInput()}).bind("blur.manifest",
function(){setTimeout(function(){a.mousedown||a._removeSelected();a.mpMousedown||(c.marcoPolo&&c.required?a._resizeInput():b.val()&&a.add(b.val(),null,!0,!0))},1)});return a},_bindList:function(){var a=this;a.$list.delegate("li","mouseover",function(){a._addHighlight(d(this))}).delegate("li","mouseout",function(){a._removeHighlight(d(this))}).delegate("li","mousedown",function(){a.mousedown=!0}).delegate("li","click",function(b){d(b.target).is("a.mf_remove")?(a._removeSelected(),a.remove(d(this)),
b.preventDefault()):a._toggleSelect(d(this))});return a},_bindContainer:function(){var a=this;a.$container.bind("click.manifest",function(){a.$input.focus()});return a},_bindDocument:function(){var a=this,b=a.$input;d(document).bind("mouseup.manifest",function(c){a.mousedown&&(a.mousedown=!1,d(c.target).is("li.mf_item, li.mf_item *")||a._removeSelected());a.mpMousedown&&(a.mpMousedown=!1,a.options.required?a._resizeInput():b.val()&&a.add(b.val(),null,!0,!0))});return a},container:function(){return this.$container},
list:function(){return this.$list},add:function(a,b,c,h){for(var g=this,k=g.$input,j=g.options,a=d.isArray(a)?a:[a],e,f=d(),l=d(),i=d(),o=function(a,b,c){f.html(a);l.html(b);i.val(c);f.append(l,i);d.when(g._trigger("add",[e,f])).then(function(a){!1!==a&&(f.appendTo(g.$list),(h||h===m)&&g._trigger("change",["add",e,f]))})},n=0,p=a.length;n<p;n++)if(e=a[n],"string"===typeof e&&(e=d.trim(e)),e&&(!d.isPlainObject(e)||!d.isEmptyObject(e)))f=d('<li class="mf_item" role="option" aria-selected="false" />'),
l=d('<a href="#" class="mf_remove" title="Remove" />'),i=d('<input type="hidden" class="mf_value" />'),j.valuesName?i.attr("name",j.valuesName+"[]"):i.attr("name",k.attr("name")+"_values[]"),f.data("manifest",e),d.when(j.formatDisplay.call(k,e,f,b),j.formatRemove.call(k,l,f),j.formatValue.call(k,e,i,f,b)).then(o);c&&g._clearInputValue()},_addInputValues:function(){var a=this.$input,b=a.data("values"),a=a.val(),c=[];b?c=d.isArray(b)?b:[b]:a&&(c=a.split(this._separator()),c=d.map(c,d.trim));c.length&&
this.add(c,null,!0,!1);return this},remove:function(a){var b=this,c=d(),c=a instanceof jQuery?a:b.$list.children(a);c.each(function(){var a=d(this),c=a.data("manifest");d.when(b._trigger("remove",[c,a])).then(function(d){!1!==d&&(b._isSelected(a)&&b._removeSelect(a),a.remove(),b._trigger("change",["remove",c,a]))})})},values:function(){var a=[];this.$list.find("input:hidden.mf_value").each(function(){a.push(d(this).val())});return a},destroy:function(){var a=this.$input,b=this.values().join(this._separator()+
" ");this.options.marcoPolo&&a.marcoPolo("destroy");this.$list.remove();this.$measure.remove();a.unwrap().removeClass("mf_input").val(b);d.each(this.inputOriginals,function(b,d){d===m?a.removeAttr(b):a.attr(b,d)});d(document).unbind(".manifest");d.Widget.prototype.destroy.apply(this,arguments)},_styleMeasure:function(){var a=this.$input;this.$measure.css({"font-family":a.css("font-family"),"font-size":a.css("font-size"),"font-style":a.css("font-style"),"font-variant":a.css("font-variant"),"font-weight":a.css("font-weight"),
left:-9999,"letter-spacing":a.css("letter-spacing"),position:"absolute","text-transform":a.css("text-transform"),top:-9999,"white-space":"nowrap",width:"auto","word-spacing":a.css("word-spacing")});return this},_measureText:function(a){var b=this.$measure,a=a.replace(/&/g,"&amp;").replace(/\s/g,"&nbsp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");b.html(a);return b.width()},_maxInputWidth:function(){var a=this.$input;return this.$container.width()-(a.outerWidth(!0)-a.width())},_resizeInput:function(){var a=
this.$input,b;b=this._measureText(a.val()+"---");a.width(Math.min(b,this._maxInputWidth()));return this},_clearInputValue:function(){var a=this.$input;this.options.marcoPolo?a.marcoPolo("change",null):a.val("");this._resizeInput();return this},_isSeparator:function(a){var b=this.options.separator;return d.isArray(b)?-1!==d.inArray(String.fromCharCode(a),b):a===b.charCodeAt()},_separator:function(){var a=this.options.separator;return d.isArray(a)?a[0]:a},_firstItem:function(){return this.$list.children("li:first")},
_lastItem:function(){return this.$list.children("li:last")},_highlighted:function(){return this.$list.children("li.mf_highlighted")},_addHighlight:function(a){if(!a.length)return this;this._removeHighlighted();a.addClass("mf_highlighted");this._trigger("highlight",[a.data("marcoPolo"),a]);return this},_removeHighlight:function(a){if(!a.length)return this;a.removeClass("mf_highlighted");this._trigger("highlightRemove",[a.data("marcoPolo"),a]);return this},_removeHighlighted:function(){return this._removeHighlight(this._highlighted())},
_selected:function(){return this.$list.children("li.mf_selected")},_isSelected:function(a){return a.hasClass("mf_selected")},_addSelect:function(a){if(!a.length)return this;this._removeSelected();a.addClass("mf_selected").attr({"aria-selected":"true",id:this.inputName+"_selected"});this.$list.attr("aria-activedescendant",a.attr("id"));this._trigger("select",[a.data("marcoPolo"),a]);return this},_removeSelect:function(a){if(!a.length)return this;a.removeClass("mf_selected").attr("aria-selected","false").removeAttr("id");
this.$list.removeAttr("aria-activedescendant");this._trigger("selectRemove",[a.data("marcoPolo"),a]);return this},_removeSelected:function(){return this._removeSelect(this._selected())},_toggleSelect:function(a){return this._isSelected(a)?this._removeSelect(a):this._addSelect(a)},_selectPrev:function(){var a=this._selected(),b=d(),b=a.length?a.prev():this._lastItem();b.length&&this._addSelect(b);return this},_selectNext:function(){var a=this._selected(),b=a.next();return b.length?this._addSelect(b):
this._removeSelect(a)},_selectFirst:function(){return this._addSelect(this._firstItem())},_selectLast:function(){return this._addSelect(this._lastItem())},_trigger:function(a,b){var c="on"+a.charAt(0).toUpperCase()+a.slice(1),d=this.widgetEventPrefix.toLowerCase()+a.toLowerCase(),c=this.options[c];this.element.trigger(d,b);return c&&c.apply(this.element,b)}})});
